<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>安装NixOS | loner`s Blog</title><meta name="author" content="loner,2788892716@qq.com"><meta name="copyright" content="loner"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="1. 获取NixOSNixOS的ISO镜像文件可以从https:&#x2F;&#x2F;nixos.org&#x2F;download.html#nixos-iso处下载，考虑到国内互联网现状，也可从https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;nixos-images&#x2F;下载，请注意版本号的差别。制作USB启动盘的方式很常规（Tip:推荐使用Ventory），详细的不再赘述。 注意：务必保证自己已经">
<meta property="og:type" content="article">
<meta property="og:title" content="安装NixOS">
<meta property="og:url" content="https://lonerorz.github.io/posts/0.html">
<meta property="og:site_name" content="loner&#96;s Blog">
<meta property="og:description" content="1. 获取NixOSNixOS的ISO镜像文件可以从https:&#x2F;&#x2F;nixos.org&#x2F;download.html#nixos-iso处下载，考虑到国内互联网现状，也可从https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;nixos-images&#x2F;下载，请注意版本号的差别。制作USB启动盘的方式很常规（Tip:推荐使用Ventory），详细的不再赘述。 注意：务必保证自己已经">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img1.s1.googlevideo.xyz/d/BQACAgEAAx0EbsCs4QACD6hn6tA3Z6Cx_iD2M5_w-cBAYFKVjgACSgQAAhEhUUdsR_z7E9rVWTYE">
<meta property="article:published_time" content="2025-08-02T09:25:33.736Z">
<meta property="article:modified_time" content="2025-08-02T09:29:48.899Z">
<meta property="article:author" content="loner">
<meta property="article:tag" content="linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img1.s1.googlevideo.xyz/d/BQACAgEAAx0EbsCs4QACD6hn6tA3Z6Cx_iD2M5_w-cBAYFKVjgACSgQAAhEhUUdsR_z7E9rVWTYE"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "安装NixOS",
  "url": "https://lonerorz.github.io/posts/0.html",
  "image": "https://img1.s1.googlevideo.xyz/d/BQACAgEAAx0EbsCs4QACD6hn6tA3Z6Cx_iD2M5_w-cBAYFKVjgACSgQAAhEhUUdsR_z7E9rVWTYE",
  "datePublished": "2025-08-02T09:25:33.736Z",
  "dateModified": "2025-08-02T09:29:48.899Z",
  "author": [
    {
      "@type": "Person",
      "name": "loner",
      "url": "https://lonerorz.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="https://img1.s1.googlevideo.xyz/d/BQACAgEAAx0EbsCs4QACD6xn6u6alfyPMgroS0zUpsi-FNhW5QACSgUAAhEhWUd8432o9S3vQjYE"><link rel="canonical" href="https://lonerorz.github.io/posts/0.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="manifest" href="/manifest.json"/><meta name="msapplication-TileColor" content="#3b70fc"/><link rel="apple-touch-icon" sizes="180x180" href="/img/siteicon/128.png"/><link rel="icon" type="image/png" sizes="32x32" href="/img/siteicon/32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/img/siteicon/16.png"/><link rel="mask-icon" href="/img/siteicon/128.png" color="#5bbad5"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '安装NixOS',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/music.css" media="defer" onload="this.media='all'"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-blog@2.0.4/css/runtime/runtime.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://cdn.cbd.int/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="loner`s Blog" type="application/atom+xml">
</head><body><div id="web_bg" style="background-image: url(https://img1.s1.googlevideo.xyz/d/BQACAgEAAx0EbsCs4QACD9doE9kFpQ7xJpPjBSce-fM8uPuwZAACxAUAAsfboESg0uPL0tFQAAE2BA);"></div><div id="an_music_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.s1.googlevideo.xyz/d/BQACAgEAAx0EbsCs4QACD6tn6u5FhQkV0OSzmrmzDJhEpwcskAACSQUAAhEhWUcyQBvUawPWfDYE" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">7</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-zhuye"></use></svg><span> 首页</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/archives/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shijianzhou1"></use></svg><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/music/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-yinle2"></use></svg><span> 音乐馆</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/categories/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-fenlei"></use></svg><span> 分类</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/comments/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-liuyanmoban"></use></svg><span> 留言板</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/link/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-lianjie"></use></svg><span> 友人帐</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/bangumis/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-fanju"></use></svg><span> 追番</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/about/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-guanyu"></use></svg><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://img1.s1.googlevideo.xyz/d/BQACAgEAAx0EbsCs4QACD6hn6tA3Z6Cx_iD2M5_w-cBAYFKVjgACSgQAAhEhUUdsR_z7E9rVWTYE);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.s1.googlevideo.xyz/d/BQACAgEAAx0EbsCs4QACD6xn6u6alfyPMgroS0zUpsi-FNhW5QACSgUAAhEhWUd8432o9S3vQjYE" alt="Logo"><span class="site-name">loner`s Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">安装NixOS</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-zhuye"></use></svg><span> 首页</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/archives/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shijianzhou1"></use></svg><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/music/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-yinle2"></use></svg><span> 音乐馆</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/categories/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-fenlei"></use></svg><span> 分类</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/comments/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-liuyanmoban"></use></svg><span> 留言板</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/link/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-lianjie"></use></svg><span> 友人帐</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/bangumis/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-fanju"></use></svg><span> 追番</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/about/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-guanyu"></use></svg><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">安装NixOS</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-08-02T09:25:33.736Z" title="发表于 2025-08-02 17:25:33">2025-08-02</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-08-02T09:29:48.899Z" title="更新于 2025-08-02 17:29:48">2025-08-02</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>10分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="1-获取NixOS"><a href="#1-获取NixOS" class="headerlink" title="1. 获取NixOS"></a>1. 获取NixOS</h1><p>NixOS的ISO镜像文件可以从<a href="offical">https://nixos.org/download.html#nixos-iso</a>处下载，<br>考虑到国内互联网现状，也可从<a href="清华大学开源镜像站">https://mirrors.tuna.tsinghua.edu.cn/nixos-images/</a>下载，<br>请注意版本号的差别。制作USB启动盘的方式很常规（Tip:推荐使用Ventory），详细的不再赘述。</p>
<p>注意：务必保证自己已经理解自己下载的是什么玩意，不然可能无法进行下一步或者进行到某一步便前功尽弃。</p>
<p>请注意，[latest-nixos]表示你下载的是最新的NixOS版本，[gnome]和[plasma5]分别表示你的livecd默认带有Gnome桌面和KDE桌面的版本（这只决定你的livecd默认的桌面环境，和新的系统无关），而[minimal]则表示是最小化安装版本，livecd没有桌面环境。</p>
<p>对于32位(i686)计算机，NixOS在这里仅提供最小化安装版本，如果你的计算机支持64位的操作系统，那么请下载x86_64的版本。</p>
<p>后缀为sha256的文件为校验文件，可以检查下载下来的镜像文件是否完整，一般情况来说，没有必要理会它们。</p>
<p>如果你使用不支持从USB设备启动的古老机器，你可以尝试将ISO镜像文件烧录入一张空的CD里来替代USB设备，但是NixOS可能并不能在这种古老机器上正常工作。</p>
<h1 id="2-安装NixOS"><a href="#2-安装NixOS" class="headerlink" title="2. 安装NixOS"></a>2. 安装NixOS</h1><p><strong>2.1 从安装介质中启动</strong></p>
<p>Step 1. 插入你的安装介质，打开或者重启你的计算机。</p>
<p>Step 2. 通过按某些按键来进入BIOS的启动菜单(BOOT MENU)（Tip:不同的主板默认的按键可能不同），选择刻录好的安装介质，如果你不知道你的哪个是你的安装介质，那就一个一个地试。（Tip:如果你的PC支持UEFI，那么选择UEFI是更好的选择，如果你不知道什么是UEFI或者机器比较古老，那么可以忽略这一括号内的话）</p>
<p>Step 3. 选完启动介质后来到安装器菜单界面，如果你不懂，可以什么都不做乖巧地等着读秒结束后自动进入，如果你比较心急，按一下回车键就可以直接进入。</p>
<p>Step 4. 此时如果你在下载镜像时选择了带有桌面环境的版本，当你选择图形化(graphical)的安装器时可能需要等待一段时间才可进入桌面，安装过程见<strong>2.2</strong>。最小化安装版本会直接进入命令行，你接下来的所有操作都要在命令行下完成，安装过程见<strong>2.3</strong>。</p>
<p>**2.2 图形化安装（自动）</p>
<p>Step 1. 在欢迎界面，可以选择安装器和将要安装的系统的语言。（为了方便，最好使用American English）</p>
<p>Step 2. 接下来，你应该选择你所在的地区以便正确设置你的时区，安装器会通过你的ip地址猜测你的位置，当然，你也可以点击地图选择地区。</p>
<p>Step 3. 接下来，你可以选择你的键盘布局，默认即可。</p>
<p>Step 4. 在用户界面，你必须设置一个普通用户的名和密，还有root用户的密码。</p>
<p>Step 5. 接下来，你可以选择一个你喜欢的桌面环境来做为新的系统的默认桌面环境，你有相当多的选择，或者你可以选择无桌面环境，值得一提的是，无论你选择了怎样的系统镜像，你都可以在这里重新决定你新系统的默认桌面环境。</p>
<p>Step 6. 接下来，你可以选择是否允许非自由的软件。</p>
<p>Step 7. 接下来是硬盘分区界面，<strong>谨慎操作</strong>，最简单的方法就是直接格式化整个硬盘当作NixOS的家，理所当然地你也可以手动分区，至少有一个根目录和ESP分区。（如果你是UEFI启动的话）如果你需要的话不要忘了swap分区，你也可以选择加密硬盘。</p>
<p>Step 8. 总结界面，在这可以检查一下你之前的选项是否有问题，没有问题，点击Install，nixos-install会为你做完一切。</p>
<p>Step 9. 安装结束后，重启并移除你的安装介质。</p>
<p><strong>2.3 命令行安装（手动）</strong></p>
<p>先切换到root用户，接下来的操作都在root下执行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo su root</span><br></pre></td></tr></table></figure>
<p><strong>2.3.1 连接网络</strong></p>
<p>如果你需要连接WiFi，首先，打开wpa_supplicant服务，执行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start wpa_supplicant</span><br></pre></td></tr></table></figure>
<p>接下来，执行wpa_cli：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wpa_cli</span><br></pre></td></tr></table></figure>
<p>接着，执行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">add_network</span></span><br><span class="line">0</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">set_network 0 ssid <span class="string">&quot;myhomenetwork&quot;</span></span></span><br><span class="line">OK</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">set_network 0 psk <span class="string">&quot;mypassword&quot;</span></span></span><br><span class="line">OK</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">set_network 0 key_mgmt WPA-PSK</span></span><br><span class="line">OK</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">enable_network 0</span></span><br><span class="line">OK</span><br></pre></td></tr></table></figure>
<p>进入wpa_cli，其中myhomenetwork是你要连接的WiFi的SSID，mypassword是你要连接的WiFI的密钥，WPA-PSK是你要连接的WiFi的加密方式。</p>
<p>如果你成功连接，执行完如上的命令后你将得到类似下面的一条message：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;3&gt;CTRL-EVENT-CONNECTED - Connection to 32:85:ab:ef:24:5c completed [id=0 id_str=]</span><br></pre></td></tr></table></figure>
<p>这个时候你就可以通过quit命令来退出wpa_cli。</p>
<p><strong>2.3.2 分区并格式化</strong></p>
<p>我打算采用btrfs文件系统，<strong>btrfs</strong> 是用于 Linux 的现代写入复制 （CoW） 文件系统，旨在实现高级功能，同时还专注于容错、修复和易于管理。</p>
<p><strong>注意：</strong> 以下示例适用于启用了 EFI 的系统。相应地调整 BIOS 安装的命令。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">printf &quot;label: gpt\n,550M,U\n,+8G,S\n,,L\n&quot; | sfdisk /dev/sda</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>使用上面命令创建的分区结构：</strong></p>
<ol>
<li><code>/dev/sda1</code>: 550M 的 EFI 分区。</li>
<li><code>/dev/sda2</code>: 8G 的 <code>Linux swap</code> 分区。</li>
<li><code>/dev/sda3</code>: 剩余空间的 <code>Linux filesystem</code> 分区。</li>
</ol>
<p>然后格式化并启用 <code>swap</code> 分区：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkswap /dev/sda2</span><br><span class="line">swapon /dev/sda2</span><br></pre></td></tr></table></figure>
<p>最后，更新 <code>/etc/fstab</code> 文件以确保 <code>swap</code> 在重启时自动启用：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &#x27;/dev/sda2 none swap sw 0 0&#x27; | sudo tee -a /etc/fstab</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>在Nix 包管理器的系统中临时使用 <code>btrfs-progs</code> 软件包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nix-shell -p btrfs-progs</span><br></pre></td></tr></table></figure>
<p><strong>格式化分区并创建子卷</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mkfs.fat -F 32 /dev/sda1  <span class="comment">#在指定的分区 `/dev/sda1` 上创建一个 FAT32 文件系统</span></span><br><span class="line">mkfs.btrfs /dev/sda3  <span class="comment">#在指定的分区 `/dev/sda3` 上创建一个 Btrfs 文件系统</span></span><br><span class="line"><span class="built_in">mkdir</span> -p /mnt  <span class="comment">#创建一个挂载点 `/mnt`</span></span><br><span class="line">mount /dev/sda3 /mnt  <span class="comment">#将 `/dev/sda3` 分区挂载到 `/mnt` 目录</span></span><br><span class="line">btrfs subvolume create /mnt/@  <span class="comment">#在 `/mnt` 目录中创建一个名为 `@` 的 Btrfs 子卷,对应于系统的根文件系统（`/`）</span></span><br><span class="line">btrfs subvolume create /mnt/@home  <span class="comment">#在 `/mnt` 目录中创建一个名为 `@home` 的子卷,对应于 `/home` 目录，存放用户的个人数据</span></span><br><span class="line">btrfs subvolume create /mnt/@nix  <span class="comment">#在 `/mnt` 目录中创建一个名为 `@nix` 的子卷,对应于 Nix 包管理器的存储位置</span></span><br><span class="line">umount /mnt <span class="comment">#卸载 `/mnt` 目录下的文件系统</span></span><br></pre></td></tr></table></figure>
<p><strong>挂载分区和子卷</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mount -o compress=zstd,subvol=@ /dev/sda3 /mnt  #将 Btrfs 分区中的 `@` 子卷挂载到 `/mnt` 目录，并启用压缩。</span><br><span class="line">mkdir /mnt/&#123;home,nix&#125;  #创建两个目录 `/mnt/home` 和 `/mnt/nix`</span><br><span class="line">mount -o compress=zstd,subvol=@home /dev/sda3 /mnt/home  #将 Btrfs 分区中的 `@home` 子卷挂载到 `/mnt/home`，并启用 Zstandard 压缩</span><br><span class="line">mount -o compress=zstd,noatime,subvol=@nix /dev/sda3 /mnt/nix  #将 Btrfs 分区中的 `@nix` 子卷挂载到 `/mnt/nix`，并启用 Zstandard 压缩，同时禁用访问时间记录</span><br><span class="line"></span><br><span class="line">mkdir /mnt/boot  #创建 `boot` 目录，用于挂载引导分区</span><br><span class="line">mount /dev/sda1 /mnt/boot  #挂载引导分区</span><br></pre></td></tr></table></figure>
<p><strong>安装NixOS</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nixos-generate-config --root /mnt</span><br><span class="line">nano /mnt/etc/nixos/configuration.nix # manually add mount options</span><br><span class="line">nano /mnt/etc/nixos/hardware-configuration.nix #添加一些挂在参数 比如 &quot;compress=zstd&quot; 和 &quot;noatime&quot;</span><br><span class="line">nixos-install --show-trace</span><br></pre></td></tr></table></figure>
<p>重置root密码，添加新用户并设置密码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nixos-enter  # 进入部署好的系统，类似 arch 的 chroot</span><br><span class="line">passwd root  # 重置 root 密码</span><br><span class="line">useradd -m -G wheel loner  # 添加普通用户，并加入 wheel 组</span><br><span class="line">passwd loner  # 设置普通账户密码</span><br></pre></td></tr></table></figure>
<p><code>nixos-install</code> 有时候有毒，最后一步的设置密码不生效，所以才会有上面重置 root 密码这步。<br>然后重启（最好断掉虚拟机的光驱），就能看到安装好的系统了!!!</p>
<p>刷新grub</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>
<p>如果以后你决定删除 <strong>NixOS</strong> 系统，你需要做几个步骤来确保系统干净地卸载，并恢复到之前的状态。以下是逐步指南：</p>
<h3 id="1-删除-NixOS-文件系统"><a href="#1-删除-NixOS-文件系统" class="headerlink" title="1. 删除 NixOS 文件系统"></a>1. <strong>删除 NixOS 文件系统</strong></h3><p>首先，你需要删除 <strong>NixOS</strong> 的文件系统和挂载的分区。假设你的 <strong>NixOS</strong> 系统安装在 <code>/dev/nvme0n1p7</code>（BTRFS 文件系统）上，并且你的 <code>@</code>、<code>@home</code> 和 <code>@nix</code> 等子卷已经创建。你可以按照以下步骤删除这些分区和子卷：</p>
<h4 id="1-1-删除-NixOS-的-BTRFS-子卷"><a href="#1-1-删除-NixOS-的-BTRFS-子卷" class="headerlink" title="1.1. 删除 NixOS 的 BTRFS 子卷"></a>1.1. 删除 NixOS 的 BTRFS 子卷</h4><p>在你删除整个分区之前，首先需要卸载并删除所有的 BTRFS 子卷。你已经在安装过程中创建了几个子卷（例如：<code>@</code>、<code>@home</code>、<code>@nix</code>），可以使用以下命令删除它们：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除 BTRFS 子卷</span></span><br><span class="line"><span class="built_in">sudo</span> btrfs subvolume delete /mnt/@</span><br><span class="line"><span class="built_in">sudo</span> btrfs subvolume delete /mnt/@home</span><br><span class="line"><span class="built_in">sudo</span> btrfs subvolume delete /mnt/@nix</span><br></pre></td></tr></table></figure>
<h4 id="1-2-卸载分区"><a href="#1-2-卸载分区" class="headerlink" title="1.2. 卸载分区"></a>1.2. 卸载分区</h4><p>确保分区不再挂载，如果你已经挂载了 <strong>NixOS</strong> 的分区（比如 <code>/mnt</code>、<code>/mnt/home</code>、<code>/mnt/nix</code>），可以使用以下命令卸载它们：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 卸载挂载点</span></span><br><span class="line"><span class="built_in">sudo</span> umount /mnt</span><br><span class="line"><span class="built_in">sudo</span> umount /mnt/home</span><br><span class="line"><span class="built_in">sudo</span> umount /mnt/nix</span><br></pre></td></tr></table></figure>
<h4 id="1-3-删除-NixOS-分区"><a href="#1-3-删除-NixOS-分区" class="headerlink" title="1.3. 删除 NixOS 分区"></a>1.3. 删除 NixOS 分区</h4><p>删除分区的步骤可以通过 <strong>parted</strong> 或 <strong>fdisk</strong> 工具来实现。使用 <strong>parted</strong> 删除 <strong>NixOS</strong> 分区（例如：<code>/dev/nvme0n1p7</code>）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用 parted 删除分区</span></span><br><span class="line"><span class="built_in">sudo</span> parted /dev/nvme0n1 <span class="built_in">rm</span> 7</span><br></pre></td></tr></table></figure>
<p>这会删除 <code>/dev/nvme0n1p7</code> 分区。如果你需要删除其他 <strong>NixOS</strong> 使用的分区，也可以按照类似方式删除。</p>
<h3 id="2-删除引导项"><a href="#2-删除引导项" class="headerlink" title="2. 删除引导项"></a>2. <strong>删除引导项</strong></h3><p>如果你使用的是 <strong>systemd-boot</strong>，需要删除与 <strong>NixOS</strong> 相关的启动项。你可以使用以下命令列出所有 <strong>systemd-boot</strong> 启动项：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bootctl list</span><br></pre></td></tr></table></figure>
<p>然后删除 <strong>NixOS</strong> 的启动项。启动项配置文件通常位于 <code>/boot/efi/loader/entries</code> 目录下。你可以使用以下命令删除 <strong>NixOS</strong> 的引导配置文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除 NixOS 启动项</span></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">rm</span> /boot/efi/loader/entries/nixos-generation-1.conf</span><br></pre></td></tr></table></figure>
<p>如果你使用的是 <strong>GRUB</strong>，你需要编辑 <code>/etc/grub.d/</code> 中的配置文件，删除与 <strong>NixOS</strong> 相关的条目，然后重新生成 <strong>GRUB</strong> 配置：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除 GRUB 配置中的 NixOS 条目</span></span><br><span class="line"><span class="built_in">sudo</span> grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>
<h3 id="3-清理-NixOS-配置文件"><a href="#3-清理-NixOS-配置文件" class="headerlink" title="3. 清理 NixOS 配置文件"></a>3. <strong>清理 NixOS 配置文件</strong></h3><p>如果你不再使用 <strong>NixOS</strong>，你可以删除 <strong>NixOS</strong> 的配置文件（例如：<code>/etc/nixos/configuration.nix</code> 等）。这些文件可能包含你对 <strong>NixOS</strong> 的自定义配置。你可以删除 <code>/etc/nixos</code> 目录：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除 NixOS 配置文件</span></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">rm</span> -rf /etc/nixos</span><br></pre></td></tr></table></figure>
<h3 id="4-恢复引导顺序"><a href="#4-恢复引导顺序" class="headerlink" title="4. 恢复引导顺序"></a>4. <strong>恢复引导顺序</strong></h3><p>删除 <strong>NixOS</strong> 后，你可能需要更新 <strong>UEFI</strong> 或 <strong>BIOS</strong> 启动顺序，确保系统从其他操作系统（如 <strong>Windows</strong> 或 <strong>Arch Linux</strong>）启动。你可以通过进入 <strong>UEFI/BIOS</strong> 设置，在启动顺序中选择合适的引导项。</p>
<p>如果你删除了 <strong>systemd-boot</strong> 或 <strong>GRUB</strong> 引导配置，你可能需要重新配置它们。假设 <strong>GRUB</strong> 在其他操作系统中仍然可用，可以重新生成 <strong>GRUB</strong> 配置文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>
<h3 id="5-删除-swap-分区（如果需要）"><a href="#5-删除-swap-分区（如果需要）" class="headerlink" title="5. 删除 swap 分区（如果需要）"></a>5. <strong>删除 swap 分区（如果需要）</strong></h3><p>如果你不再使用 <strong>swap</strong> 分区 <code>/dev/nvme0n1p5</code>，可以通过以下步骤删除它：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用 parted 删除 swap 分区</span></span><br><span class="line"><span class="built_in">sudo</span> parted /dev/nvme0n1 <span class="built_in">rm</span> 5</span><br></pre></td></tr></table></figure>
<h3 id="6-清理多余的文件"><a href="#6-清理多余的文件" class="headerlink" title="6. 清理多余的文件"></a>6. <strong>清理多余的文件</strong></h3><p>如果你不再需要 <strong>NixOS</strong> 安装的任何文件或配置，最后可以清理掉其他不再需要的文件，包括下载的镜像和相关的日志文件。</p>
<h3 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h3><ol>
<li>删除 <strong>NixOS</strong> 分区：卸载并删除 BTRFS 子卷和相关分区。</li>
<li>删除引导项：清理 <strong>systemd-boot</strong> 或 <strong>GRUB</strong> 配置中的 <strong>NixOS</strong> 启动项。</li>
<li>清理配置文件：删除 <code>/etc/nixos</code> 配置目录。</li>
<li>恢复引导顺序：确保系统从其他操作系统启动。</li>
<li>删除 <strong>swap</strong> 分区（如果不再需要）。</li>
</ol>
<p>完成这些步骤后，<strong>NixOS</strong> 将被从系统中完全移除。如果你有任何问题，或者在操作过程中遇到困难，随时向我求助！</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://lonerOrz.github.io">loner</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://lonerorz.github.io/posts/0.html">https://lonerorz.github.io/posts/0.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://lonerOrz.github.io" target="_blank">loner`s Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/linux/">linux</a></div><div class="post-share"><div class="social-share" data-image="https://img1.s1.googlevideo.xyz/d/BQACAgEAAx0EbsCs4QACD6hn6tA3Z6Cx_iD2M5_w-cBAYFKVjgACSgQAAhEhUUdsR_z7E9rVWTYE" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><link rel="stylesheet" href="/css/coin/coin.css" media="defer" onload="this.media='all'"/><div class="post-reward"><button class="tip-button reward-button"><span class="tip-button__text">不给糖果就捣蛋</span><div class="coin-wrapper"><div class="coin"><div class="coin__middle"></div><div class="coin__back"></div><div class="coin__front"></div></div></div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></button></div><audio id="coinAudio" src="https://cdn.cbd.int/akilar-candyassets@1.0.36/audio/aowu.m4a"></audio><script defer="defer" src="/js/coin/coin.js"></script><nav class="pagination-post" id="pagination"><a class="pagination-related full-width" href="/posts/be11.html" title="Hyprlan 游戏优化"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.s1.googlevideo.xyz/d/BQACAgEAAx0EbsCs4QACD6pn6uJyp1VCUDaN8OnxRx8OOQU0RwACRgUAAhEhWUetExBg2Mn_hjYE" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Hyprlan 游戏优化</div></div><div class="info-2"><div class="info-item-1">🎮 Hyprland + 游戏优化（Wayland 专用）🔹 1. 启用 gamescope（适用于 Wayland）Hyprland 默认使用 Wayland，你可以使用 gamescope 作为 游戏模式 以优化性能。 📌 安装 gamescope1sudo pacman -S gamescope 📌 启动方式在 Steam 启动参数里添加：1gamescope -W 1920 -H 1080 -r 144 -f -- %command%参数说明：  -W 1920 -H 1080 → 设定游戏窗口大小（可调） -r 60 → 设定刷新率（换成你的显示器刷新率） -f → 强制全屏 -- %command% → 运行 Steam 游戏   🔹 2. gamemode（游戏模式）1sudo pacman -S gamemode 然后在 Steam 游戏 启动参数加：1gamemoderun %command%这样游戏时，系统会 自动调整 CPU 频率，减少后台进程占用。  🔹 3. 确保 NVIDIA/AMD 驱动正确安装📌 NVIDIA...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/4a17b156.html" title="Hello World"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.s1.googlevideo.xyz/d/BQACAgEAAx0EbsCs4QACD6ln6tCluhTUcJ4DlNK1zw7GRephFAACSwQAAhEhUUfOKzqfNcGi0jYE" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-03-30</div><div class="info-item-2">Hello World</div></div><div class="info-2"><div class="info-item-1">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick Start    ...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.s1.googlevideo.xyz/d/BQACAgEAAx0EbsCs4QACD6tn6u5FhQkV0OSzmrmzDJhEpwcskAACSQUAAhEhWUcyQBvUawPWfDYE" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">loner</div><div class="author-info-description">一个毕业两年半的linux爱好者！</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">7</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/lonerOrz"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon faa-parent animated-hover" href="https://github.com/lonerOrz" target="_blank" title="Github"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-github"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=2788892716@qq.com" target="_blank" title="Email"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-youxiang"></use></svg></a><a class="social-icon faa-parent animated-hover" href="/atom.xml" target="_blank" title="RSS"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-Rss"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/439989352" target="_blank" title="BiliBili"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-Bilibili"></use></svg></a><a class="social-icon faa-parent animated-hover" href="tencent://Message/?Uin=2788892716&amp;amp;websiteName=local.edu.com:8888=&amp;amp;Menu=yes" target="_blank" title="QQ"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-QQ"></use></svg></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">这些都是我学习中的笔记，都是个人经验之谈！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E8%8E%B7%E5%8F%96NixOS"><span class="toc-number">1.</span> <span class="toc-text">1. 获取NixOS</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E5%AE%89%E8%A3%85NixOS"><span class="toc-number">2.</span> <span class="toc-text">2. 安装NixOS</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%A0%E9%99%A4-NixOS-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">2.0.1.</span> <span class="toc-text">1. 删除 NixOS 文件系统</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-%E5%88%A0%E9%99%A4-NixOS-%E7%9A%84-BTRFS-%E5%AD%90%E5%8D%B7"><span class="toc-number">2.0.1.1.</span> <span class="toc-text">1.1. 删除 NixOS 的 BTRFS 子卷</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-%E5%8D%B8%E8%BD%BD%E5%88%86%E5%8C%BA"><span class="toc-number">2.0.1.2.</span> <span class="toc-text">1.2. 卸载分区</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-%E5%88%A0%E9%99%A4-NixOS-%E5%88%86%E5%8C%BA"><span class="toc-number">2.0.1.3.</span> <span class="toc-text">1.3. 删除 NixOS 分区</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%88%A0%E9%99%A4%E5%BC%95%E5%AF%BC%E9%A1%B9"><span class="toc-number">2.0.2.</span> <span class="toc-text">2. 删除引导项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%B8%85%E7%90%86-NixOS-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">2.0.3.</span> <span class="toc-text">3. 清理 NixOS 配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%81%A2%E5%A4%8D%E5%BC%95%E5%AF%BC%E9%A1%BA%E5%BA%8F"><span class="toc-number">2.0.4.</span> <span class="toc-text">4. 恢复引导顺序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%88%A0%E9%99%A4-swap-%E5%88%86%E5%8C%BA%EF%BC%88%E5%A6%82%E6%9E%9C%E9%9C%80%E8%A6%81%EF%BC%89"><span class="toc-number">2.0.5.</span> <span class="toc-text">5. 删除 swap 分区（如果需要）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%B8%85%E7%90%86%E5%A4%9A%E4%BD%99%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-number">2.0.6.</span> <span class="toc-text">6. 清理多余的文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%EF%BC%9A"><span class="toc-number">2.0.7.</span> <span class="toc-text">总结：</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/0.html" title="安装NixOS"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.s1.googlevideo.xyz/d/BQACAgEAAx0EbsCs4QACD6hn6tA3Z6Cx_iD2M5_w-cBAYFKVjgACSgQAAhEhUUdsR_z7E9rVWTYE" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="安装NixOS"/></a><div class="content"><a class="title" href="/posts/0.html" title="安装NixOS">安装NixOS</a><time datetime="2025-08-02T09:25:33.736Z" title="发表于 2025-08-02 17:25:33">2025-08-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/be11.html" title="Hyprlan 游戏优化"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.s1.googlevideo.xyz/d/BQACAgEAAx0EbsCs4QACD6pn6uJyp1VCUDaN8OnxRx8OOQU0RwACRgUAAhEhWUetExBg2Mn_hjYE" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hyprlan 游戏优化"/></a><div class="content"><a class="title" href="/posts/be11.html" title="Hyprlan 游戏优化">Hyprlan 游戏优化</a><time datetime="2025-03-31T22:14:26.377Z" title="发表于 2025-04-01 06:14:26">2025-04-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/b859.html" title="markdown语法"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.s1.googlevideo.xyz/d/BQACAgEAAx0EbsCs4QACD9doE9kFpQ7xJpPjBSce-fM8uPuwZAACxAUAAsfboESg0uPL0tFQAAE2BA" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="markdown语法"/></a><div class="content"><a class="title" href="/posts/b859.html" title="markdown语法">markdown语法</a><time datetime="2025-03-31T22:13:32.915Z" title="发表于 2025-04-01 06:13:32">2025-04-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/8a92.html" title="Yazi常用操作和快捷键"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.s1.googlevideo.xyz/d/BQACAgEAAx0EbsCs4QACD6hn6tA3Z6Cx_iD2M5_w-cBAYFKVjgACSgQAAhEhUUdsR_z7E9rVWTYE" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Yazi常用操作和快捷键"/></a><div class="content"><a class="title" href="/posts/8a92.html" title="Yazi常用操作和快捷键">Yazi常用操作和快捷键</a><time datetime="2025-03-31T16:00:00.000Z" title="发表于 2025-04-01 00:00:00">2025-04-01</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2025 By loner</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo-chi-pied.vercel.app/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = (el = document, path = location.pathname) => {
    twikoo.init({
      el: el.querySelector('#twikoo-wrap'),
      envId: 'https://twikoo-chi-pied.vercel.app/',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      },
      ...option,
      path: isShuoshuo ? path : (option && option.path) || path
    })

    

    isShuoshuo && (window.shuoshuoComment.destroyTwikoo = () => {
      if (el.children.length) {
        el.innerHTML = ''
        el.classList.add('no-comment')
      }
    })
  }

  const loadTwikoo = (el, path) => {
    if (typeof twikoo === 'object') setTimeout(() => init(el, path), 0)
    else btf.getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(() => init(el, path))
  }

  if (isShuoshuo) {
    'Twikoo' === 'Twikoo'
      ? window.shuoshuoComment = { loadComment: loadTwikoo }
      : window.loadOtherComment = loadTwikoo
    return
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><div class="aplayer no-destroy" data-id="2842079283" data-server="netease" data-type="playlist"   data-order="list" data-fixed="true" data-preload="auto" data-autoplay="false" data-mutex="true" ></div><script async data-pjax src="/js/anzhiyu.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="/js/aplayer/Meting2.min.js"></script><script>(() => {
  const destroyAplayer = () => {
    if (window.aplayers) {
      for (let i = 0; i < window.aplayers.length; i++) {
        if (!window.aplayers[i].options.fixed) {
          window.aplayers[i].destroy()
        }
      }
    }
  }

  const runMetingJS = () => {
    typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()
  }

  btf.addGlobalFn('pjaxSend', destroyAplayer, 'destroyAplayer')
  btf.addGlobalFn('pjaxComplete', loadMeting, 'runMetingJS')
})()</script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => fn())
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      const usePjax = true
      true 
        ? (usePjax ? pjax.loadUrl('/404.html') : window.location.href = '/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})()</script><div class="app-refresh" id="app-refresh" style="position: fixed;top: -2.2rem;left: 0;right: 0;z-index: 99999;padding: 0 1rem;font-size: 15px;height: 2.2rem;transition: all 0.3s ease;"><div class="app-refresh-wrap" style=" display: flex;color: #fff;height: 100%;align-items: center;justify-content: center;"><label>✨ 有新文章啦！ 👉</label><a href="javascript:void(0)" onclick="location.reload()"><span style="color: #fff;text-decoration: underline;cursor: pointer;">🍗点击食用🍔</span></a></div></div><script>if ('serviceWorker' in navigator) {
if (navigator.serviceWorker.controller) {
navigator.serviceWorker.addEventListener('controllerchange', function() {
showNotification()
})
}
window.addEventListener('load', function() {
navigator.serviceWorker.register('/sw.js')
})
}
function showNotification() {
if (GLOBAL_CONFIG.Snackbar) {
var snackbarBg =
document.documentElement.getAttribute('data-theme') === 'light' ?
GLOBAL_CONFIG.Snackbar.bgLight :
GLOBAL_CONFIG.Snackbar.bgDark
var snackbarPos = GLOBAL_CONFIG.Snackbar.position
Snackbar.show({
text: '✨ 有新文章啦！ 👉',
backgroundColor: snackbarBg,
duration: 500000,
pos: snackbarPos,
actionText: '🍗点击食用🍔',
actionTextColor: '#fff',
onActionClick: function(e) {
location.reload()
},
})
} else {
var showBg =
document.documentElement.getAttribute('data-theme') === 'light' ?
'#3b70fc' :
'#1f1f1f'
var cssText = `top: 0; background: ${showBg};`
document.getElementById('app-refresh').style.cssText = cssText
}
}</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><!-- hexo injector body_end start --><script>
    // 全局变量声明区域
    var fdata = {
      apiurl: 'https://hexo-friendcircle-api-ai9d4hwad-anzhiyu-c.vercel.app/api',
      initnumber: 20, //【可选】页面初始化展示文章数量
      stepnumber: 10, //【可选】每次加载增加的篇数
      error_img: 'https://npm.elemecdn.com/akilar-candyassets/image/404.gif' //【可选，头像图片加载失败时的默认头像】
    }
    //存入本地存储
    localStorage.setItem("fdatalist",JSON.stringify(fdata))
    </script>
    <script defer src="https://npm.elemecdn.com/hexo-filter-fcircle/assets/js/fetch.min.js"></script><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v5.4.0" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="主题版本Butterfly_v4.2.2" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://www.jsdelivr.com/" style="margin-inline:5px" data-title="本站使用JsDelivr为静态资源提供CDN加速" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&amp;logo=jsDelivr" alt=""/></a><a class="github-badge" target="_blank" href="https://beian.miit.gov.cn/#/Integrated/index" style="margin-inline:5px" data-title="本站已在湘进行备案" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/湘ICP备-2022004213号-e1d492?style=flat&amp;logo=data:image/png;base64,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" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>';
    console.log('已挂载butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="/js/runtime/runtime.js"></script><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/8a92.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.s1.googlevideo.xyz/d/BQACAgEAAx0EbsCs4QACD6hn6tA3Z6Cx_iD2M5_w-cBAYFKVjgACSgQAAhEhUUdsR_z7E9rVWTYE" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-04-01</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/8a92.html&quot;);" href="javascript:void(0);" alt="">Yazi常用操作和快捷键</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/8a92.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/be11.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.s1.googlevideo.xyz/d/BQACAgEAAx0EbsCs4QACD6pn6uJyp1VCUDaN8OnxRx8OOQU0RwACRgUAAhEhWUetExBg2Mn_hjYE" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-04-01</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/be11.html&quot;);" href="javascript:void(0);" alt="">Hyprlan 游戏优化</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/be11.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/0.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.s1.googlevideo.xyz/d/BQACAgEAAx0EbsCs4QACD6hn6tA3Z6Cx_iD2M5_w-cBAYFKVjgACSgQAAhEhUUdsR_z7E9rVWTYE" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-08-02</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/0.html&quot;);" href="javascript:void(0);" alt="">安装NixOS</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/0.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/b859.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.s1.googlevideo.xyz/d/BQACAgEAAx0EbsCs4QACD9doE9kFpQ7xJpPjBSce-fM8uPuwZAACxAUAAsfboESg0uPL0tFQAAE2BA" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-04-01</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/b859.html&quot;);" href="javascript:void(0);" alt="">markdown语法</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/b859.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/0.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.s1.googlevideo.xyz/d/BQACAgEAAx0EbsCs4QACD6hn6tA3Z6Cx_iD2M5_w-cBAYFKVjgACSgQAAhEhUUdsR_z7E9rVWTYE" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-31</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/0.html&quot;);" href="javascript:void(0);" alt="">安装ArchLinux</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/0.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/4a17b156.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img1.s1.googlevideo.xyz/d/BQACAgEAAx0EbsCs4QACD6ln6tCluhTUcJ4DlNK1zw7GRephFAACSwQAAhEhUUfOKzqfNcGi0jYE" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-30</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/4a17b156.html&quot;);" href="javascript:void(0);" alt="">Hello World</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/4a17b156.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><script async src="/js/ali_font.js"></script><!-- hexo injector body_end end --></body></html>